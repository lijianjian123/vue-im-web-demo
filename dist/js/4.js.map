{"version":3,"sources":["webpack:///./src/pages/old/Chat.vue?83a7","webpack:///./src/pages/old/Chat.vue","webpack:///./src/pages/old/Chat.vue?6f8c","webpack:///./src/pages/old/Chat.vue?e56b","webpack:///./src/pages/old/Chat.vue?86c6","webpack:///./src/pages/old/Chat.vue?b3df","webpack:///./src/pages/old/Chat.vue?5473"],"names":["components","ChatEditor","ChatList","mounted","$store","dispatch","sessionId","pageUtil","scrollChatListDown","setTimeout","scene","teamMembers","state","to","undefined","length","teamInfo","memberNum","updated","destroyed","data","leftBtnOptions","backText","preventGoBack","computed","$route","params","console","warn","sessionName","user","test","replace","userUID","isRobot","robotInfos","nick","userInfo","userInfos","util","getFriendAlias","members","teamId","memberCount","name","parseSession","myInfo","msglist","msgs","currSessionMsgs","teamlist","find","team","muteInTeam","Members","selfInTeam","item","account","mute","teamInvalid","validToCurrentUser","sendInvalidHint","type","methods","onClickBack","window","history","go","msgsLoaded","enterNameCard","location","href","onTeamManageClick","$toast","onHistoryClick"],"mappings":"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A;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACtEA;;AAEA;AACA,cAAc,mBAAO,CAAC,kQAAgU;AACtV,4CAA4C,QAAS;AACrD;AACA;AACA,aAAa,mBAAO,CAAC,2DAAgE;AACrF;AACA,GAAG,KAAU;AACb;AACA;AACA,0IAA0I,qEAAqE;AAC/M,mJAAmJ,qEAAqE;AACxN;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;;;;;;ACpBA;;AAEA;AACA,cAAc,mBAAO,CAAC,iQAA+T;AACrV,4CAA4C,QAAS;AACrD;AACA;AACA,aAAa,mBAAO,CAAC,2DAAgE;AACrF;AACA,GAAG,KAAU;AACb;AACA;AACA,0IAA0I,oEAAoE;AAC9M,mJAAmJ,oEAAoE;AACvN;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"4.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Chat.vue\")\nrequire(\"!!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Chat.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chat.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5753c2d6\\\"}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Chat.vue\"),\n  /* scopeId */\n  \"data-v-5753c2d6\",\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/wangxudong/me/sayabc/vue-im-web-demo/src/pages/old/Chat.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] Chat.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5753c2d6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5753c2d6\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/old/Chat.vue\n// module id = 331\n// module chunks = 4","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ChatEditor from './components/ChatEditor'\nimport ChatList from './components/ChatList'\nimport util from '../utils'\nimport pageUtil from '../utils/page'\n\n\nexport default {\n  components: {\n    ChatEditor,\n    ChatList\n  },\n  // 进入该页面，文档被挂载\n  mounted () {\n    this.$store.dispatch('showLoading')\n    // 此时设置当前会话\n    this.$store.dispatch('setCurrSession', this.sessionId)\n    pageUtil.scrollChatListDown()\n\n    setTimeout(() => {\n      this.$store.dispatch('hideLoading')\n    }, 1000)\n\n    // 获取群成员\n    if(this.scene === 'team') {\n      var teamMembers = this.$store.state.teamMembers[this.to]\n      if (teamMembers === undefined || teamMembers.length < this.teamInfo.memberNum) {\n        this.$store.dispatch('getTeamMembers', this.to)\n      }\n    }\n  },\n  updated () {\n    pageUtil.scrollChatListDown()\n  },\n  // 离开该页面，此时重置当前会话\n  destroyed () {\n    this.$store.dispatch('resetCurrSession')\n  },\n  data () {\n    return {\n      leftBtnOptions: {\n        backText: ' ',\n        preventGoBack: true,\n      }\n    }\n  },\n  computed: {\n    sessionId () {\n      let sessionId = this.$route.params.sessionId\n      console.warn('sessionId 222： ', this.$route.params, this.$route)\n      return sessionId\n    },\n    sessionName () {\n      let sessionId = this.sessionId\n      let user = null\n      if (/^p2p-/.test(sessionId)) {\n        user = sessionId.replace(/^p2p-/, '')\n        if (user === this.$store.state.userUID) {\n          return '我的手机'\n        } else if (this.isRobot) {\n          return this.robotInfos[user].nick\n        } else {\n          let userInfo = this.userInfos[user] || {}\n          return util.getFriendAlias(userInfo)\n        }\n      } else if (/^team-/.test(sessionId)) {\n        if (this.teamInfo) {\n          // teamInfo中的人数为初始获取的值，在人员增减后不会及时更新，而teamMembers在人员增减后同步维护的人员信息\n          var members = this.$store.state.teamMembers && this.$store.state.teamMembers[this.teamInfo.teamId]\n          var memberCount = members && members.length\n          return this.teamInfo.name + (memberCount ? `(${memberCount})` : '')\n        } else {\n          return  '群'\n        }\n      }\n    },\n    scene () {\n      return util.parseSession(this.sessionId).scene\n    },\n    to () {\n      return util.parseSession(this.sessionId).to\n    },\n    // 判断是否是机器人\n    isRobot () {\n      let sessionId = this.sessionId\n      let user = null\n      if (/^p2p-/.test(sessionId)) {\n        user = sessionId.replace(/^p2p-/, '')\n        if (this.robotInfos[user]) {\n          return true\n        }\n      }\n      return false\n    },\n    myInfo () {\n      return this.$store.state.myInfo\n    },\n    userInfos () {\n      return this.$store.state.userInfos\n    },\n    robotInfos () {\n      return this.$store.state.robotInfos\n    },\n    msglist () {\n      let msgs = this.$store.state.currSessionMsgs\n      return msgs\n    },\n    teamInfo() {\n      if (this.scene==='team') {\n        var teamId =  this.sessionId.replace('team-','')\n        return this.$store.state.teamlist.find(team=>{\n          return team.teamId === teamId\n        })\n      }\n      return undefined\n    },\n    muteInTeam(){\n      if(this.scene!=='team') return false\n      var teamMembers = this.$store.state.teamMembers\n      var Members = teamMembers && teamMembers[this.teamInfo.teamId]\n      var selfInTeam = Members && Members.find(item=>{\n        return item.account === this.$store.state.userUID\n      })\n      return selfInTeam && selfInTeam.mute || false\n    },\n    teamInvalid() {\n      if (this.scene==='team') {\n        return !(this.teamInfo && this.teamInfo.validToCurrentUser)\n      }\n      return false\n    },\n    sendInvalidHint() {\n      if (this.scene==='team' && this.teamInvalid) {\n        return `您已不在该${this.teamInfo && this.teamInfo.type==='normal'? '讨论组':'群'}，不能发送消息`\n      } else if (this.muteInTeam) {\n        return '您已被禁言'\n      }\n      return '无权限发送消息'\n    }\n  },\n  methods: {\n    onClickBack () {\n      // location.href = '#/contacts'\n      window.history.go(-1)\n    },\n    msgsLoaded () {\n      pageUtil.scrollChatListDown()\n    },\n    enterNameCard () {\n      if (/^p2p-/.test(this.sessionId)) {\n        let account = this.sessionId.replace(/^p2p-/, '')\n        if (account === this.$store.state.userUID) {\n          location.href = `#/general`\n          return\n        }\n        location.href = `#/namecard/${account}`\n      }\n    },\n    onTeamManageClick() {\n      if (this.teamInfo && this.teamInfo.validToCurrentUser) {\n        location.href = `#/teammanage/${this.teamInfo.teamId}`\n      } else {\n        this.$toast('您已退出该群')\n      }\n    },\n    onHistoryClick() {\n      if (this.scene!=='team' || (this.teamInfo && this.teamInfo.validToCurrentUser)) {\n        location.href = `#/chathistory/${this.sessionId}`\n      } else {\n        this.$toast('您已退出该群')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/old/Chat.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.g-window .vux-header .m-tab-top {\\n  width: 80%;\\n  margin: 0 10%;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/wangxudong/me/sayabc/vue-im-web-demo/src/pages/old/Chat.vue\"],\"names\":[],\"mappings\":\";AAkPA;EACE,WAAW;EACX,cAAc;EACd,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB\",\"file\":\"Chat.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.g-window .vux-header .m-tab-top {\\n  width: 80%;\\n  margin: 0 10%;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-5753c2d6\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/pages/old/Chat.vue\n// module id = 496\n// module chunks = 4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.g-window .m-tab .m-tab-right[data-v-5753c2d6]{\\n  width: 5rem;\\n  right: -1rem;\\n}\\n.m-tab-right[data-v-5753c2d6] {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: end;\\n  -webkit-justify-content: flex-end;\\n     -moz-box-pack: end;\\n      -ms-flex-pack: end;\\n          justify-content: flex-end;\\n}\\n.m-tab-right .icon-history[data-v-5753c2d6], .m-tab-right .icon-team[data-v-5753c2d6] {\\n  display: inline-block;\\n  margin-right: .8rem;\\n  width: 1.7rem;\\n  height: 1.7rem;\\n  background: url(http://yx-web.nos.netease.com/webdoc/h5/im/icons.png);\\n  background-size: 20rem;\\n  background-position: -5.8rem -11.3rem;\\n}\\n.m-tab-right .icon-team[data-v-5753c2d6]{\\n  background-position: -7.9rem -11.3rem;\\n}\\n.invalidHint[data-v-5753c2d6] {\\n  width: 100%;\\n  height: 2rem;\\n  line-height: 2rem;\\n  text-align: center;\\n  background-color: bisque;\\n  color: burlywood;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/wangxudong/me/sayabc/vue-im-web-demo/src/pages/old/Chat.vue\"],\"names\":[],\"mappings\":\";AAmNA;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,qBAAc;EAAd,sBAAc;EAAd,kBAAc;EAAd,qBAAc;EAAd,cAAc;EACd,sBAA0B;EAA1B,kCAA0B;KAA1B,mBAA0B;MAA1B,mBAA0B;UAA1B,0BAA0B;CAc3B;AAZC;EACE,sBAAsB;EACtB,oBAAoB;EACpB,cAAc;EACd,eAAe;EACf,sEAAsE;EACtE,uBAAuB;EACvB,sCAAsC;CACvC;AACD;EACE,sCAAsC;CACvC;AAEH;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,yBAAyB;EACzB,iBAAiB;CAClB\",\"file\":\"Chat.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.g-window .m-tab .m-tab-right{\\n  width: 5rem;\\n  right: -1rem;\\n}\\n.m-tab-right {\\n  display: flex;\\n  justify-content: flex-end;\\n\\n  .icon-history, .icon-team {\\n    display: inline-block;\\n    margin-right: .8rem;\\n    width: 1.7rem;\\n    height: 1.7rem;\\n    background: url(http://yx-web.nos.netease.com/webdoc/h5/im/icons.png);\\n    background-size: 20rem;\\n    background-position: -5.8rem -11.3rem;\\n  }\\n  .icon-team{\\n    background-position: -7.9rem -11.3rem;\\n  }\\n}\\n.invalidHint {\\n  width: 100%;\\n  height: 2rem;\\n  line-height: 2rem;\\n  text-align: center;\\n  background-color: bisque;\\n  color: burlywood;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-5753c2d6\",\"scoped\":true,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/old/Chat.vue\n// module id = 497\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"g-inherit m-article\"\n  }, [_c('x-header', {\n    staticClass: \"m-tab\",\n    attrs: {\n      \"left-options\": _vm.leftBtnOptions\n    },\n    on: {\n      \"on-click-back\": _vm.onClickBack\n    }\n  }, [_c('h1', {\n    staticClass: \"m-tab-top\",\n    on: {\n      \"click\": _vm.enterNameCard\n    }\n  }, [_vm._v(_vm._s(_vm.sessionName))]), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"slot\": \"left\"\n    },\n    slot: \"left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"m-tab-right\",\n    attrs: {\n      \"slot\": \"right\"\n    },\n    slot: \"right\"\n  }, [_c('span', {\n    staticClass: \"icon-history\",\n    on: {\n      \"click\": _vm.onHistoryClick\n    }\n  }), _vm._v(\" \"), (_vm.scene === 'team') ? _c('span', {\n    staticClass: \"icon-team\",\n    on: {\n      \"click\": _vm.onTeamManageClick\n    }\n  }) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"m-chat-main\"\n  }, [(_vm.scene === \"team\" && _vm.teamInvalid) ? _c('div', {\n    staticClass: \"invalidHint\"\n  }, [_vm._v(\"\\n      \" + _vm._s((\"您已退出该\" + (_vm.teamInfo && _vm.teamInfo.type==='normal' ? '讨论组':'群'))) + \"\\n    \")]) : _vm._e(), _vm._v(\" \"), _c('chat-list', {\n    attrs: {\n      \"type\": \"session\",\n      \"msglist\": _vm.msglist,\n      \"userInfos\": _vm.userInfos,\n      \"myInfo\": _vm.myInfo,\n      \"isRobot\": _vm.isRobot\n    },\n    on: {\n      \"msgs-loaded\": _vm.msgsLoaded\n    }\n  }), _vm._v(\" \"), _c('chat-editor', {\n    attrs: {\n      \"type\": \"session\",\n      \"scene\": _vm.scene,\n      \"to\": _vm.to,\n      \"isRobot\": _vm.isRobot,\n      \"invalid\": _vm.teamInvalid || _vm.muteInTeam,\n      \"invalidHint\": _vm.sendInvalidHint,\n      \"advancedTeam\": _vm.teamInfo && _vm.teamInfo.type === 'advanced'\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-5753c2d6\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5753c2d6\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/old/Chat.vue\n// module id = 521\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Chat.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0f9cd8eb\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Chat.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Chat.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-5753c2d6\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/pages/old/Chat.vue\n// module id = 547\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Chat.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"07fb3516\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Chat.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5753c2d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Chat.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-5753c2d6\",\"scoped\":true,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/old/Chat.vue\n// module id = 548\n// module chunks = 4"],"sourceRoot":""}